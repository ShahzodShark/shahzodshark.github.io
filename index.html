<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Генератор случайного числа</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        window.onload = function() {
            console.log("WebApp initialized");
            if (Telegram.WebApp) {
                Telegram.WebApp.ready();
                console.log("Telegram WebApp is ready");
            }

            // Извлечение параметра d из URL
            const urlParams = new URLSearchParams(window.location.search);
            const d = urlParams.get('d'); // Получаем переменную d

            if (d) {
                document.getElementById('d-value').innerText = `Полученное значение: ${d}`;
            } else {
                document.getElementById('d-value').innerText = "Переменная d не передана.";
            }
        };

        function sendDataToBot() {
            const randomNum = Math.floor(Math.random() * 100);
            Telegram.WebApp.sendData(randomNum.toString());
            document.getElementById('message').innerText = `Число ${randomNum} успешно отправлено боту!`;
        }
    </script>
</head>
<body>
    <h1>Генератор случайного числа</h1>
    <p id="d-value" style="font-size: 18px; color: blue;"></p> <!-- Параграф для отображения переменной d -->
    <button onclick="sendDataToBot()">Сгенерировать и отправить число</button>
    <p id="message" style="margin-top: 20px; font-size: 18px; color: green;"></p>
</body>
</html>